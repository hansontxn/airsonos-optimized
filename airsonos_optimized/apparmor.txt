#include <tunables/global>

profile airsonos_optimized flags=(attach_disconnected,mediate_deleted) {
  #include <abstractions/base>

  # Basic file access
  /app/** r,
  /data/** rw,
  /tmp/** rw,

  # Node.js binary
  /usr/bin/node rix,

  # Basic networking
  network inet stream,
  network inet dgram,

  # Basic capabilities
  capability net_bind_service,

  # Standard system files
  /etc/hosts r,
  /etc/resolv.conf r,
  /proc/*/stat r,
  /proc/meminfo r,

  # Shell access
  /bin/bash rix,
  /bin/sh rix,
}